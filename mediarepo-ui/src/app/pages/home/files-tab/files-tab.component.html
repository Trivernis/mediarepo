<mat-drawer-container class="page">
  <mat-drawer mode="side" opened disableClose>
    <app-files-tab-sidebar (searchEndEvent)="this.contentLoading = false"
                           (searchStartEvent)="this.contentLoading = true" [selectedFiles]="this.selectedFiles"></app-files-tab-sidebar>
  </mat-drawer>
  <mat-drawer-content>
    <div *ngIf="contentLoading" class="spinner-overlay">
      <mat-progress-spinner color="primary" mode="indeterminate"></mat-progress-spinner>
    </div>
    <app-file-grid *ngIf="!this.showGallery" (fileDblClickEvent)="openGallery($event)" [files]="files"
                   (fileSelectEvent)="onFileSelect($event)"
                   [preselectedFile]="this.preselectedFile"
                   (fileMultiselectEvent)="onFileMultiSelect($event)"
    ></app-file-grid>
    <app-file-gallery *ngIf="this.showGallery" [files]="files" (fileSelectEvent)="onFileSelect($event)"
                      [preselectedFile]="this.preselectedFile"
                      (closeEvent)="this.closeGallery($event.selectedFile?.data)"></app-file-gallery>
  </mat-drawer-content>
</mat-drawer-container>
