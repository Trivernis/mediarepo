<div id="content">
    <mat-tab-group #tabGroup (selectedTabChange)="this.onTabSelectionChange($event)" class="main-tab-group"
                   animationDuration="0">
        <mat-tab [label]="this.selectedRepository? 'RepositoryData' : 'Repositories'">
            <app-repositories-tab></app-repositories-tab>
        </mat-tab>
        <mat-tab *ngFor="let tab of tabs">
            <ng-template mat-tab-label>
                <div class="tab-label-div" (click)="this.onMouseClickTabLabel(tab, $event)">
                    {{tab.category}}
                    <button class="close-tab-button" mat-icon-button (click)="this.closeTab(tab)">
                        <ng-icon name="mat-close"></ng-icon>
                    </button>
                </div>
            </ng-template>
            <ng-template matTabContent>
                <app-files-tab *ngIf="tab.category === 'Files'" [state]="tab"></app-files-tab>
                <app-import-tab *ngIf="tab.category === 'Import'" [state]="tab"></app-import-tab>
            </ng-template>
        </mat-tab>
        <mat-tab *ngIf="this.newTab" label="New Tab">
            <div class="new-tab-content">
                Select the tab type
                <button mat-flat-button (click)="this.addFilesTab()" color="primary">Files</button>
                <button mat-flat-button (click)="this.addImportTab()" color="primary">Import</button>
            </div>
        </mat-tab>
        <mat-tab *ngIf="this.selectedRepository" disabled>
            <ng-template mat-tab-label>
                <button class="new-tab-button" mat-icon-button (click)="this.addTab()">
                    <ng-icon name="mat-plus"></ng-icon>
                </button>
            </ng-template>
        </mat-tab>
    </mat-tab-group>
</div>
